# 9C WebDriver â€“ å¯åŠ¨ Firefox çš„ç¬¬ä¸€ä¸ªæµ‹è¯•è„šæœ¬

> åŸæ–‡ï¼š [https://javabeginnerstutorial.com/selenium/9c-webdriver-first-test-script-firefox/](https://javabeginnerstutorial.com/selenium/9c-webdriver-first-test-script-firefox/)

å—¨å‘€å¤§å®¶ï¼ æ˜¯æ—¶å€™å–æ¯ Java äº†ï¼Œæˆ‘æ˜¯è¯´å’–å•¡ğŸ˜‰

äº‹ä¸å®œè¿Ÿï¼Œè®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ WebDriver ä¸­çš„ç¬¬ä¸€ä¸ªæµ‹è¯•è„šæœ¬ã€‚ åœ¨æˆ‘ä»¬æ ¹æ®[ä¸Šä¸€ç¯‡æ–‡ç« ](https://javabeginnerstutorial.com/selenium/9b-webdriver-eclipse-setup/)ï¼ˆæ·»åŠ äº† WebDriver JAR æ–‡ä»¶ï¼‰åˆ›å»ºçš„åŒä¸€é¡¹ç›®ä¸‹ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªåä¸º`com.blog.tests`çš„æ–°åŒ…ã€‚

æ¥ä¸‹æ¥ï¼Œå³é”®å•å‡»â€œåŒ… -> æ–°å»º -> ç±»â€ã€‚

![Test Script - Class Creation](img/332fd01782c08929069b72cf2741b325.png)

æˆ‘å°†ç±»å‘½åä¸ºâ€œ`HelloWorldFirefox.java`â€ã€‚ åˆ›å»ºæ‰€æœ‰è¿™äº›æ–‡ä»¶åï¼Œâ€œåŒ…æµè§ˆå™¨â€çª—æ ¼å°†å¦‚ä¸‹æ‰€ç¤ºï¼Œ

![Test Script - Package Explorer](img/f3d0489e504c26814e937a928d47e9ad.png)

æˆ‘ä»¬å°†åœ¨ç¬¬ä¸€ä¸ªæµ‹è¯•è„šæœ¬ä¸­è€ƒè™‘çš„åœºæ™¯æ˜¯ï¼š

1.  æ‰“å¼€ Firefox æµè§ˆå™¨ã€‚
2.  å¯¼èˆªåˆ°â€œ<https://www.google.com/>â€
3.  å°†é¡µé¢æ ‡é¢˜å£°æ˜ä¸ºâ€œGoogleâ€ã€‚
4.  æ ¹æ®å£°æ˜ç»“æœåœ¨æ§åˆ¶å°ä¸Šæ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ã€‚
5.  å…³é—­æµè§ˆå™¨ã€‚

**æ³¨æ„**ï¼š *æˆ‘ä»¬æœ‰ä¸€æ•´ç¯‡æ–‡ç« ä¸“é—¨ç”¨äºå£°æ˜å’ŒéªŒè¯ã€‚ ç”±äºç¬¬ä¸€ä¸ªè„šæœ¬çš„ä¸»è¦åº§å³é“­æ˜¯æŸ¥çœ‹ WebDriver çš„å·¥ä½œåŸç†ï¼Œå› æ­¤è®©æˆ‘ä»¬ä½¿ç”¨ç®€å•çš„ if-else è¯­å¥æ¥æ¯”è¾ƒå®é™…å’Œé¢„æœŸçš„é¡µé¢æ ‡é¢˜ã€‚*

**ä»£ç å¦‚ä¸‹ï¼Œ**

```java
package com.blog.tests;

import org.openqa.selenium.WebDriver;
import org.openqa.selenium.firefox.FirefoxDriver;

public class HelloWorldFirefox {

	public static void main(String[] args) {
//Selenium version 3 beta releases require system property set up
System.setProperty("webdriver.gecko.driver", "E:\\Softwares\\
			Selenium\\geckodriver-v0.10.0-win64\\geckodriver.exe");
		//Create a new instance for the class FirefoxDriver
		//that implements WebDriver interface
		WebDriver driver = new FirefoxDriver();
		//Assign the URL to be invoked to a String variable
		String baseUrl = "https://www.google.com";
		String pageTitle = "";
		String expectedTitle = "Google";
		//Open baseUrl in Firefox browser window
		driver.get(baseUrl);
		//Get the page title and assign to a String variable
		pageTitle = driver.getTitle();
		//Check if obtained page title matches with the expected title
		//and print the console output accordingly
		if(pageTitle.equals(expectedTitle)){
			System.out.println("Hello World! Result is as expected.");
		}else{
			System.out.println("Hello World! Assertion failed!");
		}
		//Close the Firefox browser
		driver.quit();
	}
}
```

æˆ‘çŸ¥é“å¤–è¡¨ä»¤äººç”Ÿç•ï¼ ä¸è¿‡ä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä»¬å°†é˜æ˜æ‰€æœ‰è¿™äº›ä»£ç ï¼Œå¹¶æ‰¾å‡ºå…¶å«ä¹‰ã€‚ è®©æˆ‘ä»¬é€è¡Œèµ°ä¸‹å»ï¼Œä¸é—ä½™åŠ›ã€‚

## ä»£ç å®è·µï¼š

#### 1.ç³»ç»Ÿå±æ€§è®¾ç½®ã€‚

```java
System.setProperty("webdriver.gecko.driver", "E:\\Softwares\\Selenium\\
                           geckodriver-v0.10.0-win64\\geckodriver.exe");
```

Selenium 3 Beta ç‰ˆæœ¬ä¸åƒ Selenium 2 ç‰ˆæœ¬é‚£æ ·æ”¯æŒç›´æ¥å¯åŠ¨ Firefoxã€‚ å› æ­¤ï¼Œå¿…é¡»é€šè¿‡â€œ`webdriver.gecko.driver`â€ç³»ç»Ÿå±æ€§è®¾ç½®é©±åŠ¨ç¨‹åºå¯æ‰§è¡Œæ–‡ä»¶â€œ`geckodriver.exe`â€çš„è·¯å¾„ã€‚ æŒ‡å®šåœ¨ç³»ç»Ÿä¸­ç›¸åº”ä¿å­˜å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ã€‚

#### 2.æ¥ä¸‹æ¥ï¼Œä¸ºäº†å®ä¾‹åŒ– Firefox æµè§ˆå™¨ï¼Œæˆ‘ä»¬å°†å¿…é¡»å¯¼å…¥ä¸¤ä¸ªåŒ…ã€‚

é”®å…¥â€œ`WebDriver driver = new FirefoxDriver();`â€åï¼Œåœ¨â€œ`WebDriver`â€å’Œâ€œ`FirefoxDriver()`â€ä¸‹æ–¹ä¼šå‡ºç°ä¸€æ¡æ³¢æµªçº¿ã€‚ æ‚¬åœæ—¶ï¼Œèš€å°†å»ºè®®æ‰€æœ‰å¯èƒ½çš„å¿«é€Ÿä¿®å¤ã€‚ å•å‡»å»ºè®®å¯¼å…¥ç›¸åº”åŒ…çš„ç¬¬ä¸€ä¸ªä¿®å¤ç¨‹åºã€‚

![test script - import packages](img/2a99d6b6cbb982884a90b4dbcb9b30ff.png)

*   ä»¥ä¸‹åŒ…æŒ‡å®šäº† WebDriver æ¥å£ï¼Œè¯¥æ¥å£ç”¨äºæ ¹æ®éœ€è¦å®ä¾‹åŒ–æ–°çš„æµè§ˆå™¨çª—å£ã€‚

```java
import org.openqa.selenium.WebDriver
```

**æ³¨æ„**ï¼šæˆ‘ä»¬**ä¸è¦**è¯´ï¼Œ`WebDriver* driver = new WebDriver();`ï¼Œå› ä¸º`WebDriver`æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå¹¶ä¸”åªåŒ…å«å·²å®šä¹‰ä½†æœªå®ç°çš„ç©ºæ–¹æ³•ã€‚ å› æ­¤æ— æ³•å®ä¾‹åŒ–ã€‚

*   `FirefoxDriver`æ˜¯ç‰¹å®šäº Firefox æµè§ˆå™¨çš„ç±»ã€‚ å®ƒå…·æœ‰æ ¹æ®æ¥å£`WebDriver`å®šä¹‰å’Œå®ç°çš„æ–¹æ³•ã€‚ å› æ­¤ï¼Œè¿™å¯ä»¥å®ä¾‹åŒ–ã€‚

```java
import org.openqa.selenium.firefox.FirefoxDriver
```

å› æ­¤ï¼Œä»¥ä¸‹å£°æ˜æœ‰ç‚¹åƒæˆ‘ä»¬çš„ç”˜é“å¤«ã€‚ ï¼ˆä¸è¦å‘Šè¯‰æˆ‘æ‚¨è¿˜æ²¡æœ‰é˜…è¯»æˆ–è§‚çœ‹â€œæŒ‡ç¯ç‹â€ç³»åˆ—ï¼ï¼ï¼‰SeleniumVille å†æ¥æœ€å¼ºå¤§ï¼Œæœ€å—å°Šæ•¬çš„å°è¯ã€‚ å› ä¸ºå®ƒä¸º`FirefoxDriver`ç±»åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ã€‚ ç°åœ¨ï¼Œæ ¹æ®`WebDriver`æ¥å£çš„çº¦å®šï¼Œé€šè¿‡è°ƒç”¨`FirefoxDriver`ç±»ä¸­å·²ç»å®ç°çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨æ­¤å¯¹è±¡ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ä¸ºâ€œé©±åŠ¨ç¨‹åºâ€ï¼‰è‡ªåŠ¨æ‰§è¡Œ Firefox æµè§ˆå™¨ä¸Šçš„å„ç§æ“ä½œã€‚

```java
WebDriver driver = new FirefoxDriver();
```

å°†å¯åŠ¨çš„ Firefox æµè§ˆå™¨å°†å…·æœ‰é»˜è®¤é…ç½®æ–‡ä»¶ã€‚ å®ƒä¸ä¼šéš Firefox å®ä¾‹ä¸€èµ·åŠ è½½ä»»ä½•æ‰©å±•ç¨‹åºå’Œæ’ä»¶ï¼Œå¹¶ä¸”ä¼šåœ¨å®‰å…¨æ¨¡å¼ä¸‹è¿è¡Œã€‚ å¦‚æœæ‚¨æƒ³äº†è§£æœ‰å…³ Firefox é…ç½®æ–‡ä»¶çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®â€œ<https://support.mozilla.org/en-US/kb/profiles-where-firefox-stores-user-data>â€ã€‚

åŒæ ·ï¼Œå¯¹äºå…¶ä»–æµè§ˆå™¨ï¼ˆä¾‹å¦‚ Chromeï¼ŒIEï¼ŒSafari ç­‰ï¼‰ï¼Œæˆ‘ä»¬æŒ‰ç…§`WebDriver`æ¥å£ä¸­æŒ‡å®šçš„ç›¸åŒåå®šï¼ˆå³ï¼Œå®ç°æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ï¼‰ç¼–å†™ç‰¹å®šçš„ç±»ã€‚ åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡ç‰¹å®šç¤ºä¾‹äº†è§£å¦‚ä½•ä½¿ç”¨å…¶ä»–æµè§ˆå™¨ã€‚

#### 3.ç°åœ¨ï¼Œå£°æ˜`String`ç±»å‹çš„å¿…è¦å˜é‡ã€‚

```java
String baseUrl = "https://www.google.com";
String pageTitle = "";
String expectedTitle = "Google";
```

æˆ‘çŒœå¾ˆç®€å•ï¼Œè‡ªæˆ‘è§£é‡Šã€‚ æˆ‘ä»¬åªæ˜¯å£°æ˜`String`ç±»å‹çš„å˜é‡å¹¶ä¸ºå…¶åˆ†é…å€¼ã€‚ `baseUrl`æ˜¯æˆ‘ä»¬å¸Œæœ›åœ¨ Firefox æµè§ˆå™¨çª—å£ä¸­ä¸ºæµ‹è¯•åœºæ™¯è°ƒç”¨çš„ URLã€‚ ç›®å‰ï¼Œ`pageTitle`ä¿æŒä¸ºç©ºï¼Œå› ä¸ºè¿™å°†æ˜¯æˆ‘ä»¬å°†ä»æµè§ˆå™¨ä¸­è·å–çš„å®é™…å€¼ã€‚ `ExpectedTitle`æ˜¯å°†ä¸å®é™…å€¼è¿›è¡Œæ¯”è¾ƒçš„æœŸæœ›å€¼ã€‚

#### 4.å¯¼èˆªåˆ° Google é¡µé¢ã€‚

```java
driver.get(baseUrl);
```

è¿™æ˜¯æˆ‘ä»¬è¦åšçš„ç¬¬ä¸€ä»¶äº‹ã€‚ â€œ`get`â€æ–¹æ³•ç”¨äºå¯¼èˆªåˆ°æŒ‡å®šçš„ URLã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ä¸º [https://www.google.com](https://www.google.com)ã€‚

**æ³¨æ„**ï¼š `driver.navigate().to(baseUrl)`ä¹Ÿè¾¾åˆ°ç›¸åŒçš„ç»“æœã€‚ è¯•è¯•çœ‹ï¼

#### 5.è·å–é¡µé¢æ ‡é¢˜ã€‚

```java
pageTitle = driver.getTitle();
```

é¡µé¢æ ‡é¢˜çš„å®é™…å€¼å¯ä»¥ä½¿ç”¨`getTitle()`æ–¹æ³•è·å¾—ã€‚ ç„¶åå°†æ ‡é¢˜ä¿å­˜åˆ°å˜é‡`pageTitle`ä¸­ï¼Œä»¥ä¾›è¿›ä¸€æ­¥å£°æ˜ã€‚

#### 6.æ¯”è¾ƒé¡µé¢æ ‡é¢˜å¹¶åœ¨æ§åˆ¶å°ä¸­æ˜¾ç¤ºç»“æœã€‚

```java
if(pageTitle.equals(expectedTitle)){
Â Â Â System.out.println("Hello World! Result is as expected.");
}else{
Â Â  System.out.println("Hello World! Assertion failed!");
}
```

æ£€æŸ¥å­˜å‚¨åœ¨`pageTitle`ä¸­çš„å®é™…å€¼æ˜¯å¦ç­‰äºè¾…åŠ©å€¼çš„æœŸæœ›å€¼ã€‚ `System.out.println()`æ‰“å°æŒ‡å®šçš„å‚æ•°å’Œæ¢è¡Œç¬¦ã€‚ è¿™é‡Œåªæ˜¯çº¯ Javaï¼

#### 7.å…³é—­æµè§ˆå™¨çª—å£ã€‚

```java
 driver.quit();
```

`quit()`æ–¹æ³•å…³é—­æ‰€æœ‰æµè§ˆå™¨çª—å£ï¼Œå¹¶å®Œå…¨ç»“æŸ WebDriver ä¼šè¯ã€‚ è¿™æ ·å¯ä»¥é¿å…åœ¨æœªæ­£ç¡®æ¸…é™¤ä»»ä½•ç›¸å…³æ–‡ä»¶çš„æƒ…å†µä¸‹å¯èƒ½å‘ç”Ÿçš„å†…å­˜æ³„æ¼ã€‚

**æ³¨æ„**ï¼š `driver.close()`ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚ ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒå°†å…³é—­å½“å‰å…³æ³¨çš„æµè§ˆå™¨çª—å£ã€‚

è®©æˆ‘ä»¬åœ¨è¿™é‡Œä¼‘æ¯ä¸€ä¸‹ï¼Œå¥½å¥½æ²‰æµ¸å…¶ä¸­ï¼ æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­æ‰§è¡Œæ­¤æµ‹è¯•ã€‚

å†è§ã€‚ ç¥ä½ æœ‰ç¾å¥½çš„ä¸€å¤©ï¼

