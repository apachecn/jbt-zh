# ç”¨ Java åˆ›å»ºå¯¹è±¡çš„ä¸åŒæ–¹æ³•

> åŸæ–‡ï¼š [https://javabeginnerstutorial.com/core-java-tutorial/different-ways-to-create-an-object-in-java/](https://javabeginnerstutorial.com/core-java-tutorial/different-ways-to-create-an-object-in-java/)

æ‚¨å¿…é¡»çŸ¥é“ä½¿ç”¨`new`å…³é”®å­—åˆ›å»ºç±»çš„å¯¹è±¡ï¼Œä½†è¿™ä¸æ˜¯åˆ›å»ºå¯¹è±¡çš„å”¯ä¸€æ–¹æ³•ã€‚

è¿˜æœ‰å…¶ä»–å‡ ç§åˆ›å»ºç±»å¯¹è±¡çš„æ–¹æ³•ï¼š

*   ä½¿ç”¨`new`å…³é”®å­—
*   ä½¿ç”¨æ–°å®ä¾‹ï¼ˆåå°„ï¼‰
*   ä½¿ç”¨å…‹éš†
*   ä½¿ç”¨ååºåˆ—åŒ–
*   ä½¿ç”¨`ClassLoader`
*   â€¦ä¸çŸ¥é“äº† ğŸ™‚

## ä½¿ç”¨`new`å…³é”®å­—

ä½¿ç”¨`new`å…³é”®å­—æ˜¯åˆ›å»ºå¯¹è±¡çš„æœ€åŸºæœ¬æ–¹æ³•ã€‚ **`new`å…³é”®å­—å¯ç”¨äºåˆ›å»ºç±»çš„å¯¹è±¡ã€‚**

```java
public class ObjectCreationExample {

	public static void main(String[] args) {
		// Here we are creating Object of JBT using new keyword
		JBT obj = new JBT();
	}
}

class JBT{
	String Owner;
} 
```

## ä½¿ç”¨`newInstance`ï¼ˆåå°„ï¼‰

æ‚¨æ˜¯å¦æ›¾ç»å°è¯•ä½¿ç”¨ Java ä¸­çš„ JDBC é©±åŠ¨ç¨‹åºè¿æ¥åˆ°æ•°æ®åº“ï¼Ÿ å¦‚æœæ‚¨çš„å›ç­”æ˜¯è‚¯å®šçš„ï¼Œé‚£ä¹ˆæ‚¨å¿…é¡»å·²ç»çœ‹åˆ°â€œ`Class.forName`â€ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å®ƒæ¥åˆ›å»ºç±»çš„å¯¹è±¡ã€‚ `Class.forName`å®é™…ä¸Šæ˜¯åœ¨ Java ä¸­åŠ è½½è¯¥ç±»ï¼Œä½†æœªåˆ›å»ºä»»ä½•å¯¹è±¡ã€‚ è¦åˆ›å»ºå¯¹è±¡ï¼Œå¿…é¡»ä½¿ç”¨`Class`ç±»çš„`newInstance`æ–¹æ³•ã€‚

```java
/*
 * Here we will learn to create Object of a class without using new Operator.
 * But newInstance method of Class class.
 */
class CreateObject {
	public static void main(String[] args) {
		try {
			Class cls = Class.forName("JBTClass");
			JBTClass obj = (JBTClass) cls.newInstance();
			JBTClass obj1 = (JBTClass) cls.newInstance();

			System.out.println(obj);
			System.out.println(obj1);
		} catch (ClassNotFoundException e) {
			e.printStackTrace();
		} catch (InstantiationException e) {
			e.printStackTrace();
		} catch (IllegalAccessException e) {
			e.printStackTrace();
		}
	}
}

class JBTClass {
	static int j = 10;

	JBTClass() {
		i = j++;
	}

	int i;

	@Override
	public String toString() {
		return "Value of i :" + i;
	}
}
```

> å¦‚æœè¦ä»¥è¿™ç§æ–¹å¼åˆ›å»ºå¯¹è±¡ï¼Œåˆ™ç±»éœ€è¦å…·æœ‰å…¬å¼€çš„é»˜è®¤æ„é€ å™¨ã€‚

## ä½¿ç”¨`Clone`

æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨`Clone()`æ–¹æ³•åˆ›å»ºç°æœ‰å¯¹è±¡çš„*å‰¯æœ¬*ã€‚

```java
/*
 * Here we will learn to create an Object of a class without using new Operator.
 * For this purpose we will use Clone Interface
 */
class CreateObjectWithClone {

	public static void main(String[] args) {

		JBTClassClone obj1 = new JBTClassClone();
		System.out.println(obj1);
		try {
			JBTClassClone obj2 = (JBTClassClone) obj1.clone();
			System.out.println(obj2);
		} catch (CloneNotSupportedException e) {
			e.printStackTrace();
		}
	}

}

class JBTClassClone implements Cloneable {

	@Override
	protected Object clone() throws CloneNotSupportedException {
		return super.clone();
	}

	int i;
	static int j = 10;

	JBTClassClone() {
		i = j++;
	}

	@Override
	public String toString() {
		return "Value of i :" + i;
	}
}
```

**å…³äºå…‹éš†**çš„å…¶ä»–è¯´æ˜

*   åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ­£åœ¨åˆ›å»ºç°æœ‰å¯¹è±¡è€Œä¸æ˜¯ä»»ä½•æ–°å¯¹è±¡çš„å…‹éš†ã€‚
*   å…‹éš†æ–¹æ³•åœ¨`Object`ç±»ä¸­å£°æ˜ä¸ºå—ä¿æŠ¤çš„ã€‚ å› æ­¤ï¼Œåªèƒ½åœ¨å­ç±»æˆ–åŒä¸€åŒ…ä¸­å¯¹å…¶è¿›è¡Œè®¿é—®ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒåœ¨ç±»ä¸Šè¢«è¦†ç›–çš„åŸå› ã€‚
*   ç±»éœ€è¦å®ç°`Cloneable`æ¥å£ï¼Œå¦åˆ™å®ƒå°†å¼•å‘`CloneNotSupportedException`ã€‚

## ä½¿ç”¨å¯¹è±¡ååºåˆ—åŒ–

å¯¹è±¡ååºåˆ—åŒ–ä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºå¯¹è±¡ã€‚ å®ƒäº§ç”Ÿä¸åºåˆ—åŒ–å¯¹è±¡ç›¸åçš„æ“ä½œã€‚

## ä½¿ç”¨`ClassLoader`

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨`ClassLoader`åˆ›å»ºç±»çš„å¯¹è±¡ã€‚ è¿™ç§æ–¹å¼ä¸`Class.forName`é€‰é¡¹ç›¸åŒã€‚

```java
/*
 * Here we will learn to Create an Object using Class Loader
 */
public class CreateObjectWithClassLoader {

	public static void main(String[] args) {

		JBTClassLoader obj = null;
		try {
			obj = (JBTClassLoader) new CreateObjectWithClassLoader().getClass()
					.getClassLoader().loadClass("JBTClassLoader").newInstance();
// Fully qualified classname should be used.
		} catch (InstantiationException e) {
			e.printStackTrace();
		} catch (IllegalAccessException e) {
			e.printStackTrace();
		} catch (ClassNotFoundException e) {
			e.printStackTrace();
		}
		System.out.println(obj);
	}
}

class JBTClassLoader {

	static int j = 10;

	JBTClassLoader() {
		i = j++;
	}

	int i;

	@Override
	public String toString() {
		return "Value of i :" + i;
	}

}
```

###### ä¸‹ä¸€ç¯‡æ–‡ç« 